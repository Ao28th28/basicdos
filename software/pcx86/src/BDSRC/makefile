ASM=MASM
LINK=LINK
EXE2BIN=EXE2BIN

.ASM.OBJ:
	$(ASM) /IINC $**,$@;

.EXE.COM:
	$(EXE2BIN) $** $@

BOOT\BOOT.OBJ: BOOT\BOOT.ASM

BOOT\BOOT.EXE: BOOT\BOOT.OBJ
	$(LINK) $**,$@,BOOT\$*.MAP/MAP;

BOOT\BOOT.COM: BOOT\BOOT.EXE

BOOT\WBOOT.OBJ: BOOT\WBOOT.ASM

BOOT\WBOOT.EXE: BOOT\WBOOT.OBJ
	$(LINK) $**,$@,BOOT\$*.MAP/MAP;

BOOT\WBOOT.COM: BOOT\WBOOT.EXE
	$(EXE2BIN) $** $@
	BOOT\WBOOT.COM BOOT\BOOT.COM

DEV\NULDEV.OBJ: DEV\NULDEV.ASM

DEV\KBDDEV.OBJ: DEV\KBDDEV.ASM

DEV\SCRDEV.OBJ: DEV\SCRDEV.ASM

DEV\CONDEV.OBJ: DEV\CONDEV.ASM

DEV\AUXDEV.OBJ: DEV\AUXDEV.ASM

DEV\COMDEV.OBJ: DEV\COMDEV.ASM

DEV\PRNDEV.OBJ: DEV\PRNDEV.ASM

DEV\LPTDEV.OBJ: DEV\LPTDEV.ASM

DEV\CLOCKDEV.OBJ: DEV\CLOCKDEV.ASM

DEV\DISKDEV.OBJ: DEV\DISKDEV.ASM

DEV\IBMBIO.OBJ: DEV\IBMBIO.ASM

DEV\IBMBIO.EXE: DEV\NULLDEV.OBJ DEV\KBDDEV.OBJ DEV\SCRDEV.OBJ DEV\CONDEV.OBJ \
	DEV\AUXDEV.OBJ DEV\COMDEV.OBJ DEV\PRNDEV.OBJ DEV\LPTDEV.OBJ \
	DEV\CLOCKDEV.OBJ DEV\DISKDEV.OBJ DEV\IBMBIO.OBJ
	$(LINK) @DEV\IBMBIO.LRF

DEV\IBMBIO.COM: DEV\IBMBIO.EXE

DOS\CONIO.OBJ: DOS\CONIO.ASM

DOS\DOSINT.OBJ: DOS\DOSINT.ASM

DOS\IBMDOS.OBJ: DOS\IBMDOS.ASM

DOS\IBMDOS.EXE: DOS\DOSINT.OBJ DOS\CONIO.OBJ DOS\IBMDOS.OBJ
	$(LINK) @DOS\IBMDOS.LRF

DOS\IBMDOS.COM: DOS\IBMDOS.EXE
